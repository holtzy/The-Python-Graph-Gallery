{"componentChunkName":"component---src-pages-jupyter-notebook-slug-js","path":"/web-heatmap-comparison/","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-fqkvVR emMRVU\"><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>About</h2>\n<p><a href=\"https://python-graph-gallery.com/heatmap/\">Heatmap</a> is a graphical representation of data where the individual values contained in a matrix are represented as colors. This is very useful to display the <strong>concentration of values</strong> between two dimensions, without looking at the individual values.</p>\n<p>This chart has been created by <a href=\"https://barbierjoseph.com\">Joseph Barbier</a>. Thanks to him for accepting sharing its work here!</p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Libraries</h2>\n<p>First, we need to install the following libraries:</p>\n<ul>\n<li><a href=\"https://python-graph-gallery.com/matplotlib/\">matplotlib</a>: for plot customization</li>\n<li><a href=\"https://python-graph-gallery.com/seaborn/\">seaborn</a>: for creating the plot</li>\n<li><a href=\"https://python-graph-gallery.com/pandas/\">pandas</a>: for data manipulation</li>\n<li><a href=\"https://python-graph-gallery.com/advanced-custom-annotations-matplotlib/\">highlight_text</a>: for annotations</li>\n</ul></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">import</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>pyplot </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> plt\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">from</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>patches </span><span class=\"token\" style=\"color:#0000ff\">import</span><span> FancyArrowPatch\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>colors </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> mcolors\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> seaborn </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> sns\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> pandas </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> pd\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">from</span><span> highlight_text </span><span class=\"token\" style=\"color:#0000ff\">import</span><span> ax_text</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Dataset</h2>\n<p>The type of data needed when creating a <a href=\"https://python-graph-gallery.com/heatmap/\">heatmap</a> is a <strong>matrix</strong>. Each individual cell in the matrix <strong>represents a value</strong> that will be visualized using a color scale.</p>\n<p>In this post we need 2 datasets:</p>\n<ul>\n<li><strong>original</strong> heatmap</li>\n<li><strong>normalized</strong> heatmap</li>\n</ul></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span>path </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;https://raw.githubusercontent.com/holtzy/The-Python-Graph-Gallery/master/static/data/heatmap_data.csv&#x27;</span><span>\n</span><span>heatmap_data </span><span class=\"token\" style=\"color:#393A34\">=</span><span> pd</span><span class=\"token\" style=\"color:#393A34\">.</span><span>read_csv</span><span class=\"token\" style=\"color:#393A34\">(</span><span>path</span><span class=\"token\" style=\"color:#393A34\">,</span><span> index_col</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>path </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;https://raw.githubusercontent.com/holtzy/The-Python-Graph-Gallery/master/static/data/heatmap_data_norm.csv&#x27;</span><span>\n</span><span>heatmap_data_norm </span><span class=\"token\" style=\"color:#393A34\">=</span><span> pd</span><span class=\"token\" style=\"color:#393A34\">.</span><span>read_csv</span><span class=\"token\" style=\"color:#393A34\">(</span><span>path</span><span class=\"token\" style=\"color:#393A34\">,</span><span> index_col</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Simple double heatmap</h2>\n<p>We start by creating a <strong>figure with 2 subplots</strong>.</p>\n<p>The first subplot will contain the <strong>original heatmap</strong>, and the second subplot will contain the <strong>normalized heatmap</strong>.</p>\n<p>We use the <code>heatmap()</code> function from <a href=\"https://python-graph-gallery.com/seaborn/\">seaborn</a> to create the heatmaps.</p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span>fig</span><span class=\"token\" style=\"color:#393A34\">,</span><span> axs </span><span class=\"token\" style=\"color:#393A34\">=</span><span> plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>subplots</span><span class=\"token\" style=\"color:#393A34\">(</span><span>ncols</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span> figsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">16</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># iterate over the datasets</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> i</span><span class=\"token\" style=\"color:#393A34\">,</span><span> data </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span>heatmap_data</span><span class=\"token\" style=\"color:#393A34\">,</span><span> heatmap_data_norm</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span>    \n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># plot the heatmap</span><span>\n</span><span>    sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>heatmap</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        data</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cbar</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># save and show</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>savefig</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/graph/web-heatmap-comparison-1.png&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> bbox_inches</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tight&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><p><img src=\"https://github.com/holtzy/The-Python-Graph-Gallery/blob/master/static/graph/web-heatmap-comparison-1.png?raw=true\" alt=\"preview\"/></p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Custom color map and remove axis</h2>\n<p>The next step is to customize the <strong>color map</strong> and <strong>remove</strong> the axis.</p>\n<ul>\n<li>the <strong>colormap</strong> is created using the <code>LinearSegmentedColormap.from_list()</code> function, and then we pass it as an argument to the <code>cmap</code> parameter of the <code>heatmap()</code> function</li>\n<li>the <strong>axis</strong> is removed using the <code>set_axis_off()</code> function</li>\n</ul></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># create a custom colormap</span><span>\n</span><span>cmap </span><span class=\"token\" style=\"color:#393A34\">=</span><span> mcolors</span><span class=\"token\" style=\"color:#393A34\">.</span><span>LinearSegmentedColormap</span><span class=\"token\" style=\"color:#393A34\">.</span><span>from_list</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;#2a9d8f&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e9c46a&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e76f51&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>fig</span><span class=\"token\" style=\"color:#393A34\">,</span><span> axs </span><span class=\"token\" style=\"color:#393A34\">=</span><span> plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>subplots</span><span class=\"token\" style=\"color:#393A34\">(</span><span>ncols</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span> figsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">16</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># iterate over the datasets</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> i</span><span class=\"token\" style=\"color:#393A34\">,</span><span> data </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span>heatmap_data</span><span class=\"token\" style=\"color:#393A34\">,</span><span> heatmap_data_norm</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span>    \n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># plot the heatmap</span><span>\n</span><span>    sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>heatmap</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        data</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cmap</span><span class=\"token\" style=\"color:#393A34\">=</span><span>cmap</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cbar</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># remove the axis</span><span>\n</span><span>    axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>set_axis_off</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># save and show</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>savefig</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/graph/web-heatmap-comparison-2.png&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> bbox_inches</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tight&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><p><img src=\"https://github.com/holtzy/The-Python-Graph-Gallery/blob/master/static/graph/web-heatmap-comparison-2.png?raw=true\" alt=\"preview\"/></p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Add region labels</h2>\n<p>The next step is to add <strong>region labels</strong> to the heatmaps.</p>\n<p>For this, we <strong>iterate over the index</strong> of the dataset (where the region names are stored) and add the text to the plot using the <code>text()</code> function. We have to specify:</p>\n<ul>\n<li>the <strong>x</strong> and <strong>y</strong> coordinates</li>\n<li>the <strong>text</strong> to display</li>\n<li>the <strong>horizontal alignment</strong></li>\n<li>the <strong>vertical alignment</strong></li>\n<li>the <strong>font size</strong></li>\n<li>the <strong>font weight</strong></li>\n</ul>\n<p><em>Warning</em>: make sure <strong>both</strong> of the heatmaps have the <strong>same region names in the same order</strong>, otherwise the labels will not match the regions.</p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># create a custom colormap</span><span>\n</span><span>cmap </span><span class=\"token\" style=\"color:#393A34\">=</span><span> mcolors</span><span class=\"token\" style=\"color:#393A34\">.</span><span>LinearSegmentedColormap</span><span class=\"token\" style=\"color:#393A34\">.</span><span>from_list</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;#2a9d8f&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e9c46a&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e76f51&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>fig</span><span class=\"token\" style=\"color:#393A34\">,</span><span> axs </span><span class=\"token\" style=\"color:#393A34\">=</span><span> plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>subplots</span><span class=\"token\" style=\"color:#393A34\">(</span><span>ncols</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span> figsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">16</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># iterate over the datasets</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> i</span><span class=\"token\" style=\"color:#393A34\">,</span><span> data </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span>heatmap_data</span><span class=\"token\" style=\"color:#393A34\">,</span><span> heatmap_data_norm</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span>    \n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># plot the heatmap</span><span>\n</span><span>    sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>heatmap</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        data</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cmap</span><span class=\"token\" style=\"color:#393A34\">=</span><span>cmap</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cbar</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># remove the axis</span><span>\n</span><span>    axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>set_axis_off</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># add the region names</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">for</span><span> j</span><span class=\"token\" style=\"color:#393A34\">,</span><span>region </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span>data</span><span class=\"token\" style=\"color:#393A34\">.</span><span>index</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>        axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#36acaa\">0.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># x axis position</span><span>\n</span><span>            j</span><span class=\"token\" style=\"color:#393A34\">+</span><span class=\"token\" style=\"color:#36acaa\">0.5</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># y axis position</span><span>\n</span><span>            </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">region</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># text</span><span>\n</span><span>            ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">17</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># save and show</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>savefig</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/graph/web-heatmap-comparison-3.png&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> bbox_inches</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tight&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><p><img src=\"https://github.com/holtzy/The-Python-Graph-Gallery/blob/master/static/graph/web-heatmap-comparison-3.png?raw=true\" alt=\"preview\"/></p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Add legend</h2>\n<p>Now let&#x27;s add a <strong>legend</strong> to the heatmaps so that it&#x27;s more understandable.</p>\n<p>We add both <code>Consommation d&#x27;énergie</code> and <code>Consommation d&#x27;énergie par habitant</code> to the legend using the <code>text()</code> function.</p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># create a custom colormap</span><span>\n</span><span>cmap </span><span class=\"token\" style=\"color:#393A34\">=</span><span> mcolors</span><span class=\"token\" style=\"color:#393A34\">.</span><span>LinearSegmentedColormap</span><span class=\"token\" style=\"color:#393A34\">.</span><span>from_list</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;#2a9d8f&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e9c46a&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e76f51&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>fig</span><span class=\"token\" style=\"color:#393A34\">,</span><span> axs </span><span class=\"token\" style=\"color:#393A34\">=</span><span> plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>subplots</span><span class=\"token\" style=\"color:#393A34\">(</span><span>ncols</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span> figsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">16</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># iterate over the datasets</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> i</span><span class=\"token\" style=\"color:#393A34\">,</span><span> data </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span>heatmap_data</span><span class=\"token\" style=\"color:#393A34\">,</span><span> heatmap_data_norm</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span>    \n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># plot the heatmap</span><span>\n</span><span>    sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>heatmap</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        data</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cmap</span><span class=\"token\" style=\"color:#393A34\">=</span><span>cmap</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cbar</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># remove the axis</span><span>\n</span><span>    axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>set_axis_off</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># add the region names</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">for</span><span> j</span><span class=\"token\" style=\"color:#393A34\">,</span><span>region </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span>data</span><span class=\"token\" style=\"color:#393A34\">.</span><span>index</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>        axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#36acaa\">0.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># x axis position</span><span>\n</span><span>            j</span><span class=\"token\" style=\"color:#393A34\">+</span><span class=\"token\" style=\"color:#36acaa\">0.5</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># y axis position</span><span>\n</span><span>            </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">region</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># text</span><span>\n</span><span>            ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">17</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># description of each heatmap</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> i</span><span class=\"token\" style=\"color:#393A34\">==</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># first heatmap</span><span>\n</span><span>        text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Consommation d&#x27;énergie&quot;</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># second heatmap</span><span>\n</span><span>        text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Consommation d&#x27;énergie par habitant&quot;</span><span>\n</span><span>    ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">12.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;&lt;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">text</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&gt;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;style&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;italic&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># date for reference</span><span>\n</span><span>    ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">0.2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#A31515\">&quot;&lt;2011&gt;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;style&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;italic&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>    ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">0.2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#A31515\">&quot;&lt;2021&gt;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;style&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;italic&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># save and show</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>savefig</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/graph/web-heatmap-comparison-4.png&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> bbox_inches</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tight&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><p><img src=\"https://github.com/holtzy/The-Python-Graph-Gallery/blob/master/static/graph/web-heatmap-comparison-4.png?raw=true\" alt=\"preview\"/></p>\n<p>We have the main components of the plot! It only misses a title and a bunch of annotations.</p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Final chart with annotations</h2>\n<p>All annotations relies on the <code>ax_text()</code> function from the <code>highlight_text</code> library. In this <a href=\"https://python-graph-gallery.com/advanced-custom-annotations-matplotlib/\">post</a> we explain <strong>how to use it</strong> in detail.</p>\n<p>The arrows are created using the <code>FancyArrowPatch()</code> function from <code>matplotlib.patches</code>. You can <strong>learn more</strong> about them in this <a href=\"https://python-graph-gallery.com/how-to-create-and-custom-arrows-matplotlib/\">post</a>.</p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq gBoWyF input-container\"><pre class=\"sc-iGgWBj dBJyDJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># create a custom colormap</span><span>\n</span><span>cmap </span><span class=\"token\" style=\"color:#393A34\">=</span><span> mcolors</span><span class=\"token\" style=\"color:#393A34\">.</span><span>LinearSegmentedColormap</span><span class=\"token\" style=\"color:#393A34\">.</span><span>from_list</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&quot;#2a9d8f&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e9c46a&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e76f51&quot;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>fig</span><span class=\"token\" style=\"color:#393A34\">,</span><span> axs </span><span class=\"token\" style=\"color:#393A34\">=</span><span> plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>subplots</span><span class=\"token\" style=\"color:#393A34\">(</span><span>ncols</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span> figsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">16</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># iterate over the datasets</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> i</span><span class=\"token\" style=\"color:#393A34\">,</span><span> data </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span>heatmap_data</span><span class=\"token\" style=\"color:#393A34\">,</span><span> heatmap_data_norm</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span>    \n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># plot the heatmap</span><span>\n</span><span>    sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>heatmap</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        data</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cmap</span><span class=\"token\" style=\"color:#393A34\">=</span><span>cmap</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        cbar</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># remove the axis</span><span>\n</span><span>    axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>set_axis_off</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># add the region names</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">for</span><span> j</span><span class=\"token\" style=\"color:#393A34\">,</span><span>region </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span>data</span><span class=\"token\" style=\"color:#393A34\">.</span><span>index</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>        axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#36acaa\">0.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># x axis position</span><span>\n</span><span>            j</span><span class=\"token\" style=\"color:#393A34\">+</span><span class=\"token\" style=\"color:#36acaa\">0.5</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># y axis position</span><span>\n</span><span>            </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">region</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># text</span><span>\n</span><span>            ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">17</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>            fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># description of each heatmap</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> i</span><span class=\"token\" style=\"color:#393A34\">==</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># first heatmap</span><span>\n</span><span>        text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Consommation d&#x27;énergie&quot;</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># second heatmap</span><span>\n</span><span>        text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Consommation d&#x27;énergie par habitant&quot;</span><span>\n</span><span>    ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">12.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;&lt;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">text</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&gt;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;style&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;italic&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># date for reference</span><span>\n</span><span>    ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">0.2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#A31515\">&quot;&lt;2011&gt;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;style&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;italic&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>    ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">0.2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#A31515\">&quot;&lt;2021&gt;&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>            </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;style&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;italic&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># title</span><span>\n</span><span>text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;L&#x27;île de France pollue t&#x27;elle vraiment &lt;plus&gt; ?&quot;</span><span>\n</span><span>ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">4</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    text</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">24</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;bold&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;color&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e76f51&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># subtitle</span><span>\n</span><span>text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Consommation d&#x27;énergie et consommation d&#x27;énergie par habitant, de 2011 à 2021, par région (or Corse et territoires d&#x27;outre-mer)&quot;</span><span>\n</span><span>ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">3.5</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    text</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">14</span><span class=\"token\" style=\"color:#393A34\">,</span><span> \n</span><span>    color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;grey&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># credit source</span><span>\n</span><span>text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token triple-quoted-string\" style=\"color:#A31515\">&quot;&quot;&quot;\n</span><span class=\"token triple-quoted-string\" style=\"color:#A31515\">&lt;Design&gt;: Joseph Barbier   &lt;Données&gt;: data.gouv.fr\n</span><span class=\"token triple-quoted-string\" style=\"color:#A31515\">Consommation de gaz et d&#x27;électricité en France, mesuré en MWh. Les données sont agrégées par région et par année.\n</span><span class=\"token triple-quoted-string\" style=\"color:#A31515\">La population moyenne de 2008 et 2024 est utilisée pour normaliser la consommation d&#x27;énergie par habitant.\n</span><span class=\"token triple-quoted-string\" style=\"color:#A31515\">Améliorer ce graphique: &lt;https://github.com/JosephBARBIERDARNAL/Small-Projects/tree/main/conso-france&gt;\n</span><span class=\"token triple-quoted-string\" style=\"color:#A31515\">&quot;&quot;&quot;</span><span>\n</span><span>ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">13.9</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    text</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># left explanation</span><span>\n</span><span>text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Dans l&#x27;absolu, &lt;l&#x27;Île-de-France&gt;\\nest la région avec la plus\\n&lt;haute consommation d&#x27;énergie&gt;&quot;</span><span>\n</span><span>ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#36acaa\">4</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">1.7</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    text</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">15</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;color&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#e76f51&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># right explanation</span><span>\n</span><span>text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;Relativement à son nombre d&#x27;habitants,\\n&lt;l&#x27;Île-de-France&gt; est une région avec\\n&lt;consommation d&#x27;énergie par habitant&gt;\\n&lt;plutôt faible&gt;&quot;</span><span>\n</span><span>ax_text</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">1.7</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    text</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;left&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> va</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;center&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    fontsize</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">15</span><span class=\"token\" style=\"color:#393A34\">,</span><span> fontweight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;light&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;black&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    highlight_textprops</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;color&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#2a9d8f&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;color&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;#2a9d8f&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;fontweight&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;bold&quot;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>axs</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># arrows</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">def</span><span> </span><span class=\"token\" style=\"color:#393A34\">draw_arrow</span><span class=\"token\" style=\"color:#393A34\">(</span><span>tail_position</span><span class=\"token\" style=\"color:#393A34\">,</span><span> head_position</span><span class=\"token\" style=\"color:#393A34\">,</span><span> invert</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    kw </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token builtin\">dict</span><span class=\"token\" style=\"color:#393A34\">(</span><span>arrowstyle</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;Simple, tail_width=0.5, head_width=4, head_length=8&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;k&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> invert</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>        connectionstyle </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;arc3,rad=-.5&quot;</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#0000ff\">else</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>        connectionstyle </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;arc3,rad=.5&quot;</span><span>\n</span><span>    a </span><span class=\"token\" style=\"color:#393A34\">=</span><span> FancyArrowPatch</span><span class=\"token\" style=\"color:#393A34\">(</span><span>tail_position</span><span class=\"token\" style=\"color:#393A34\">,</span><span> head_position</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                                connectionstyle</span><span class=\"token\" style=\"color:#393A34\">=</span><span>connectionstyle</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                                transform</span><span class=\"token\" style=\"color:#393A34\">=</span><span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>transFigure</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                                </span><span class=\"token\" style=\"color:#393A34\">**</span><span>kw</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>    fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>patches</span><span class=\"token\" style=\"color:#393A34\">.</span><span>append</span><span class=\"token\" style=\"color:#393A34\">(</span><span>a</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>draw_arrow</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">0.25</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">1.01</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">0.17</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0.91</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>draw_arrow</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">0.77</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">1.01</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">0.82</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0.91</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span><span> invert</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># save and show</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>savefig</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/graph/web-heatmap-comparison-5.png&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> bbox_inches</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tight&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><p><img src=\"https://github.com/holtzy/The-Python-Graph-Gallery/blob/master/static/graph/web-heatmap-comparison-5.png?raw=true\" alt=\"preview\"/></p></div></div><div class=\"sc-eqUAAy gTIoki cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg hmDtqA markdown\"><h2>Going further</h2>\n<p>This post shows how to create a <strong>double heatmap</strong> with <strong>annotations</strong> using <a href=\"https://python-graph-gallery.com/matplotlib/\">matplotlib</a> and <a href=\"https://python-graph-gallery.com/seaborn/\">seaborn</a>.</p>\n<p>For more examples of <strong>advanced customization</strong>, check out <a href=\"https://python-graph-gallery.com/web-ridgeline-by-text/\">how to create a beautiful legend</a> and this <a href=\"https://python-graph-gallery.com/heatmap-for-timeseries-matplotlib/\">really nice heatmap for time series</a>.</p></div></div></div></div>","metadata":{"title":"Double heatmap with custom annotations","description":"<a href='https://python-graph-gallery.com/heatmap/'>Heatmaps</a> can be a great way to visualize evolution through time. This post shows how to create a <b>double heatmap</b>, one normal and one normalized, with annotations using <a href='https://python-graph-gallery.com/matplotlib/'>matplotlib</a> and <a href='https://python-graph-gallery.com/seaborn/'>seaborn</a>.<br><br>We will create a <b>step-by-step</b> guide to build the plot, starting with a very simple heatmap and ending with a <b>fully customized one</b>.","seoDescription":"How to create a double heatmap with annotations using matplotlib and seaborn","family":"correlation","chartType":"heatmap","keywords":"heatmap, seaborn, matplotlib, python, double heatmap, annotations, highlight_text","slug":"web-heatmap-comparison"}}},"pageContext":{"id":"364f9adc-d42b-5d0e-8ae3-337790a7d0bf >>> JupyterNotebook","slug":"web-heatmap-comparison","__params":{"slug":"web-heatmap-comparison"}}},"staticQueryHashes":["2944911273"],"slicesMap":{}}