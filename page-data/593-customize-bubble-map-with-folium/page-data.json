{"componentChunkName":"component---src-pages-jupyter-notebook-slug-js","path":"/593-customize-bubble-map-with-folium/","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-fLDLck copmGR\"><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><h2>Libraries &amp; Data</h2>\n<p>For creating this chart, we will need to load the following libraries:</p>\n<ul>\n<li><a href=\"/folium\">folium</a> for plotting the chart</li>\n<li><a href=\"/pandas\">pandas</a> for loading the data</li>\n<li><code>numpy</code> for some calculations</li>\n</ul></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">import</span><span> folium\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">from</span><span> folium </span><span class=\"token\" style=\"color:#0000ff\">import</span><span> plugins\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> pandas </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> pd\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> numpy </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> np</span></code></pre></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><h2>Dataset</h2>\n<p>Let&#x27;s start by loading shape data:</p></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span>url </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&quot;https://raw.githubusercontent.com/holtzy/The-Python-Graph-Gallery/master/static/data/earthquakes.csv&quot;</span><span>\n</span><span>df </span><span class=\"token\" style=\"color:#393A34\">=</span><span> pd</span><span class=\"token\" style=\"color:#393A34\">.</span><span>read_csv</span><span class=\"token\" style=\"color:#393A34\">(</span><span>url</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>df </span><span class=\"token\" style=\"color:#393A34\">=</span><span> df</span><span class=\"token\" style=\"color:#393A34\">[</span><span>df</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&gt;=</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0.01</span><span class=\"token\" style=\"color:#393A34\">]</span><span>  </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># depth of at least 10 meters</span><span>\n</span><span>df</span><span class=\"token\" style=\"color:#393A34\">.</span><span>sort_values</span><span class=\"token\" style=\"color:#393A34\">(</span><span>by</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> ascending</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">,</span><span> inplace</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>df</span><span class=\"token\" style=\"color:#393A34\">.</span><span>head</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Date</th>\n      <th>Time (utc)</th>\n      <th>Region</th>\n      <th>Magnitude</th>\n      <th>Depth (km)</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n      <th>Mode</th>\n      <th>Map</th>\n      <th>year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>7961</th>\n      <td>20/02/2019</td>\n      <td>06:50:47</td>\n      <td>Banda Sea</td>\n      <td>5.0</td>\n      <td>2026</td>\n      <td>-6.89</td>\n      <td>129.15</td>\n      <td>A</td>\n      <td>-</td>\n      <td>2019.0</td>\n    </tr>\n    <tr>\n      <th>6813</th>\n      <td>07/07/2019</td>\n      <td>07:50:53</td>\n      <td>Eastern New Guinea Reg, P.N.G.</td>\n      <td>5.4</td>\n      <td>1010</td>\n      <td>-5.96</td>\n      <td>147.90</td>\n      <td>A</td>\n      <td>-</td>\n      <td>2019.0</td>\n    </tr>\n    <tr>\n      <th>8293</th>\n      <td>17/01/2019</td>\n      <td>14:01:50</td>\n      <td>Fiji Islands</td>\n      <td>4.7</td>\n      <td>689</td>\n      <td>-18.65</td>\n      <td>179.44</td>\n      <td>A</td>\n      <td>-</td>\n      <td>2019.0</td>\n    </tr>\n    <tr>\n      <th>11258</th>\n      <td>03/01/2018</td>\n      <td>06:42:58</td>\n      <td>Fiji Islands Region</td>\n      <td>5.5</td>\n      <td>677</td>\n      <td>-19.93</td>\n      <td>-178.89</td>\n      <td>A</td>\n      <td>-</td>\n      <td>2018.0</td>\n    </tr>\n    <tr>\n      <th>9530</th>\n      <td>06/09/2018</td>\n      <td>18:22:24</td>\n      <td>Fiji Islands Region</td>\n      <td>5.8</td>\n      <td>672</td>\n      <td>-18.88</td>\n      <td>179.30</td>\n      <td>A</td>\n      <td>-</td>\n      <td>2018.0</td>\n    </tr>\n  </tbody>\n</table>\n</div></div></div></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><h2>Custom bubble style</h2>\n<p>The main steps to create a bubble map with folium are:</p>\n<ul>\n<li><strong>initiate the map</strong> with <code>folium.Map()</code></li>\n<li><strong>iterate over each rows</strong> to add each individual point with <code>folium.CircleMarker()</code></li>\n</ul>\n<p>In order to make each point <strong>better looking</strong>, in the <code>CircleMarker()</code>, we:</p>\n<ul>\n<li>change <code>radius</code> to the value in <code>row[&#x27;Depth (km)&#x27;]</code></li>\n<li>change the <code>color</code> depending on the magnitude with: <code>color = &#x27;#0a9396&#x27; if row[&#x27;Magnitude&#x27;] &lt; 4 else &#x27;#ee9b00&#x27; if row[&#x27;Magnitude&#x27;] &lt; 6 else &#x27;#ae2012&#x27;</code></li>\n<li>change the opacity with <code>fill_opacity</code></li>\n<li>change border width with <code>weight</code></li>\n</ul></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Initialize map</span><span>\n</span><span>m </span><span class=\"token\" style=\"color:#393A34\">=</span><span> folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Map</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    location</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>  </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># center around Africa</span><span>\n</span><span>    zoom_start</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>  </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># dezoom</span><span>\n</span><span>    tiles</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;cartodb positron&#x27;</span><span>  </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># background style</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Add all the individual earthquakes to the map</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> idx</span><span class=\"token\" style=\"color:#393A34\">,</span><span> row </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> df</span><span class=\"token\" style=\"color:#393A34\">.</span><span>iterrows</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    color </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#0a9396&#x27;</span><span> </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span> </span><span class=\"token\" style=\"color:#36acaa\">4</span><span> </span><span class=\"token\" style=\"color:#0000ff\">else</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#ee9b00&#x27;</span><span> </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span> </span><span class=\"token\" style=\"color:#36acaa\">6</span><span> </span><span class=\"token\" style=\"color:#0000ff\">else</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#ae2012&#x27;</span><span>\n</span><span>    folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>CircleMarker</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        location</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Latitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Longitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        radius</span><span class=\"token\" style=\"color:#393A34\">=</span><span>np</span><span class=\"token\" style=\"color:#393A34\">.</span><span>log</span><span class=\"token\" style=\"color:#393A34\">(</span><span>row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#393A34\">*</span><span> </span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>color</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill_color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>color</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill_opacity</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0.5</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        weight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">1</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_to</span><span class=\"token\" style=\"color:#393A34\">(</span><span>m</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>m</span><span class=\"token\" style=\"color:#393A34\">.</span><span>save</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/interactiveCharts/593-customize-bubble-map-with-folium-1.html&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span><span>html\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span>iframe\n</span><span>  src</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;../../interactiveCharts/593-customize-bubble-map-with-folium-1.html&quot;</span><span>\n</span><span>  width</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;790&quot;</span><span>\n</span><span>  height</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;600&quot;</span><span>\n</span><span>  title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;Folium map&quot;</span><span>\n</span><span>  style</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;border: none&quot;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span class=\"token\" style=\"color:#393A34\">/</span><span>iframe</span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span>\n</span>\n</code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><iframe\n  src=\"../../interactiveCharts/593-customize-bubble-map-with-folium-1.html\"\n  width=\"790\"\n  height=\"600\"\n  title=\"Folium map\"\n  style=\"border: none\"\n>\n</iframe>\n</div></div></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><h2>Tooltip</h2>\n<p>An interactive map without a <strong>tooltip</strong> wouldn&#x27;t be very effective!</p>\n<p>Luckily, with the <code>tooltip</code> argument, customizing it is straightforward, and we can even incorporate some <code>HTML</code> into it.</p>\n<p>For instance, we can display the <code>Location</code>, <code>Magnitude</code>, <code>Depth</code>, and <code>Date</code>, wrap them in <code>&lt;b&gt;</code> tags for boldness, and set them as level 5 headings (<code>&lt;h5&gt;</code>).</p></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Initialize map</span><span>\n</span><span>m </span><span class=\"token\" style=\"color:#393A34\">=</span><span> folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Map</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    location</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    zoom_start</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    tiles</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;cartodb positron&#x27;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Add all the individual earthquakes to the map</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> idx</span><span class=\"token\" style=\"color:#393A34\">,</span><span> row </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> df</span><span class=\"token\" style=\"color:#393A34\">.</span><span>iterrows</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    tooltip_text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;&quot;&quot;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Location:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Region&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Magnitude:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Depth:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\"> km&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Date:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Date&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &quot;&quot;&quot;</span><span>\n</span><span>    color </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#0a9396&#x27;</span><span> </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span> </span><span class=\"token\" style=\"color:#36acaa\">4</span><span> </span><span class=\"token\" style=\"color:#0000ff\">else</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#ee9b00&#x27;</span><span> </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span> </span><span class=\"token\" style=\"color:#36acaa\">6</span><span> </span><span class=\"token\" style=\"color:#0000ff\">else</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#ae2012&#x27;</span><span>\n</span><span>    folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>CircleMarker</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        location</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Latitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Longitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        radius</span><span class=\"token\" style=\"color:#393A34\">=</span><span>np</span><span class=\"token\" style=\"color:#393A34\">.</span><span>log</span><span class=\"token\" style=\"color:#393A34\">(</span><span>row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#393A34\">*</span><span> </span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>color</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill_color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>color</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill_opacity</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0.5</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        weight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">1</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        tooltip</span><span class=\"token\" style=\"color:#393A34\">=</span><span>folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Tooltip</span><span class=\"token\" style=\"color:#393A34\">(</span><span>tooltip_text</span><span class=\"token\" style=\"color:#393A34\">,</span><span> sticky</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_to</span><span class=\"token\" style=\"color:#393A34\">(</span><span>m</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>m</span><span class=\"token\" style=\"color:#393A34\">.</span><span>save</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/interactiveCharts/593-customize-bubble-map-with-folium-2.html&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span><span>html\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span>iframe\n</span><span>  src</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;../../interactiveCharts/593-customize-bubble-map-with-folium-2.html&quot;</span><span>\n</span><span>  width</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;790&quot;</span><span>\n</span><span>  height</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;600&quot;</span><span>\n</span><span>  title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;Folium map&quot;</span><span>\n</span><span>  style</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;border: none&quot;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span class=\"token\" style=\"color:#393A34\">/</span><span>iframe</span><span class=\"token\" style=\"color:#393A34\">&gt;</span></code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><iframe\n  src=\"../../interactiveCharts/593-customize-bubble-map-with-folium-2.html\"\n  width=\"790\"\n  height=\"600\"\n  title=\"Folium map\"\n  style=\"border: none\"\n>\n</iframe>\n</div></div></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><h2>Automatically cluster points</h2>\n<p><code>folium</code> comes with a set of plugins to add new features super easily!</p>\n<p>For example here we use the <code>MarkerCluster()</code> plugin to <strong>automatically cluster</strong> the marker into groups when zooming-out.</p>\n<p>And in order for this to work: we add the markers to the map with <code>.add_to(marker_cluster)</code> instead of <code>.add_to(m)</code></p></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">from</span><span> folium </span><span class=\"token\" style=\"color:#0000ff\">import</span><span> plugins\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Initialize map</span><span>\n</span><span>m </span><span class=\"token\" style=\"color:#393A34\">=</span><span> folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Map</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    location</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    zoom_start</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    tiles</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;cartodb positron&#x27;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Add earthquake data with clustering</span><span>\n</span><span>marker_cluster </span><span class=\"token\" style=\"color:#393A34\">=</span><span> plugins</span><span class=\"token\" style=\"color:#393A34\">.</span><span>MarkerCluster</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_to</span><span class=\"token\" style=\"color:#393A34\">(</span><span>m</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Add all the individual earthquakes to the map</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> idx</span><span class=\"token\" style=\"color:#393A34\">,</span><span> row </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> df</span><span class=\"token\" style=\"color:#393A34\">.</span><span>iterrows</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    tooltip_text </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&quot;&quot;&quot;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Location:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Region&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Magnitude:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Depth:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\"> km&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &lt;h5&gt;&lt;b&gt;Date:&lt;/b&gt; </span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">row</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#A31515\">&#x27;Date&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">]</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&lt;/h5&gt;\n</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">   &quot;&quot;&quot;</span><span>\n</span><span>    color </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#0a9396&#x27;</span><span> </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span> </span><span class=\"token\" style=\"color:#36acaa\">4</span><span> </span><span class=\"token\" style=\"color:#0000ff\">else</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#ee9b00&#x27;</span><span> </span><span class=\"token\" style=\"color:#0000ff\">if</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Magnitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span> </span><span class=\"token\" style=\"color:#36acaa\">6</span><span> </span><span class=\"token\" style=\"color:#0000ff\">else</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;#ae2012&#x27;</span><span>\n</span><span>    folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>CircleMarker</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>        location</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Latitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span> row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Longitude&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        radius</span><span class=\"token\" style=\"color:#393A34\">=</span><span>np</span><span class=\"token\" style=\"color:#393A34\">.</span><span>log</span><span class=\"token\" style=\"color:#393A34\">(</span><span>row</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Depth (km)&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#393A34\">*</span><span> </span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>color</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill_color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>color</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        fill_opacity</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0.7</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        weight</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>        tooltip</span><span class=\"token\" style=\"color:#393A34\">=</span><span>folium</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Tooltip</span><span class=\"token\" style=\"color:#393A34\">(</span><span>tooltip_text</span><span class=\"token\" style=\"color:#393A34\">,</span><span> sticky</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>    </span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_to</span><span class=\"token\" style=\"color:#393A34\">(</span><span>marker_cluster</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>m</span><span class=\"token\" style=\"color:#393A34\">.</span><span>save</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;../../static/interactiveCharts/593-customize-bubble-map-with-folium-3.html&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span><span>html\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span>iframe\n</span><span>  src</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;../../interactiveCharts/593-customize-bubble-map-with-folium-3.html&quot;</span><span>\n</span><span>  width</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;790&quot;</span><span>\n</span><span>  height</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;600&quot;</span><span>\n</span><span>  title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;Folium map&quot;</span><span>\n</span><span>  style</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;border: none&quot;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span class=\"token\" style=\"color:#393A34\">/</span><span>iframe</span><span class=\"token\" style=\"color:#393A34\">&gt;</span></code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><iframe\n  src=\"../../interactiveCharts/593-customize-bubble-map-with-folium-3.html\"\n  width=\"790\"\n  height=\"600\"\n  title=\"Folium map\"\n  style=\"border: none\"\n>\n</iframe>\n</div></div></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><h2>Going further</h2>\n<p>You might be interested in:</p>\n<ul>\n<li>learn more about how to create <a href=\"/bubble-map\">bubble maps</a></li>\n<li>understand the basics of <a href=\"/288-map-background-with-folium\">folium</a></li>\n<li>this great <a href=\"/web-bubble-map-with-arrows\">static bubble map</a></li>\n</ul></div></div></div></div>","metadata":{"title":"Bubble map with Folium in Python","description":"Folium is a Python library based on <code>Leaflet.js</code> JavaScript library. It allows us to create maps in the <b>style of Google Maps</b> with an additional layer of <b>customization</b>.<br/><br/>This post will explain how to use Folium to create <a href='/bubble-map'>bubble maps</a>, a kind of chart where background maps are <b>combined</b> with individual points that represent events or physical objects that have a certain <b>latitude and longitude</b>.<br/><br/>For an introduction to Folium, <a href='/288-map-background-with-folium'>check this post</a>.<br/>For an introduction to bubble map in Folium, <a href='/313-bubble-map-with-folium'>check this post</a>.","seoDescription":"How to create and customize a bubble map using Folium","family":"map","chartType":"bubbleMap","keywords":"matplotlib, python, tutorial, seaborn, plot, folium, bubble, customize","slug":"593-customize-bubble-map-with-folium"}}},"pageContext":{"id":"0ae8040c-4078-5154-a683-659446619caf >>> JupyterNotebook","slug":"593-customize-bubble-map-with-folium","__params":{"slug":"593-customize-bubble-map-with-folium"}}},"staticQueryHashes":["2944911273"],"slicesMap":{}}