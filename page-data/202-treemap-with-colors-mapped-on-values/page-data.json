{"componentChunkName":"component---src-pages-jupyter-notebook-slug-js","path":"/202-treemap-with-colors-mapped-on-values/","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-fqkvVR cbsNYc\"><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><p>You can create a treemap with colors mapped on values by using squarify and matplotlib libraries. In the following example, in order to map colors, <code>matplotlib.colors.Normalize()</code> is used with <code>vmin</code> and <code>vmax</code>, minimum values and maximum values respectively. Each value in my_values list is normalized and then map to a color. </p></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq eSaGKB input-container\"><pre class=\"sc-iGgWBj gcBMNR input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\">#libraries</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> matplotlib\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>pyplot </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> plt\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> squarify </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># pip install squarify (algorithm for treemap)&amp;lt;/pre&amp;gt;</span><span>\n</span> \n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Create a dataset:</span><span>\n</span><span>my_values</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span>i</span><span class=\"token\" style=\"color:#393A34\">**</span><span class=\"token\" style=\"color:#36acaa\">3</span><span> </span><span class=\"token\" style=\"color:#0000ff\">for</span><span> i </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">range</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">1</span><span class=\"token\" style=\"color:#393A34\">,</span><span class=\"token\" style=\"color:#36acaa\">100</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span> \n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># create a color palette, mapped to these values</span><span>\n</span><span>cmap </span><span class=\"token\" style=\"color:#393A34\">=</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>cm</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Blues\n</span><span>mini</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">min</span><span class=\"token\" style=\"color:#393A34\">(</span><span>my_values</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>maxi</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">max</span><span class=\"token\" style=\"color:#393A34\">(</span><span>my_values</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>norm </span><span class=\"token\" style=\"color:#393A34\">=</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>colors</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Normalize</span><span class=\"token\" style=\"color:#393A34\">(</span><span>vmin</span><span class=\"token\" style=\"color:#393A34\">=</span><span>mini</span><span class=\"token\" style=\"color:#393A34\">,</span><span> vmax</span><span class=\"token\" style=\"color:#393A34\">=</span><span>maxi</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>colors </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#393A34\">[</span><span>cmap</span><span class=\"token\" style=\"color:#393A34\">(</span><span>norm</span><span class=\"token\" style=\"color:#393A34\">(</span><span>value</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#0000ff\">for</span><span> value </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> my_values</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span> \n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Change color</span><span>\n</span><span>squarify</span><span class=\"token\" style=\"color:#393A34\">.</span><span>plot</span><span class=\"token\" style=\"color:#393A34\">(</span><span>sizes</span><span class=\"token\" style=\"color:#393A34\">=</span><span>my_values</span><span class=\"token\" style=\"color:#393A34\">,</span><span> alpha</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">.8</span><span class=\"token\" style=\"color:#393A34\">,</span><span> color</span><span class=\"token\" style=\"color:#393A34\">=</span><span>colors </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>axis</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;off&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-kAyceB eLJVsY nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV0AAADnCAYAAAC9roUQAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/d3fzzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOElEQVR4nO3dzW4bVRiA4Ux+6hZBoYuqFazZseRSuRQugSUSUhddVkKwoCrbliYmMZtWKohm6sbzHjd+nq0t+/M4eXM0sc9Mm83mCIDG8egBAA6J6AKERBcgJLoAIdEFCJ1ed+Or9ebnX1+8WuSJf/rtz0Ue92P9+OTF6BFu7MnT56NHuLE/nv0+eoTlPH82eoLe+cvREwzx1y8/fP++26x0AUKiCxASXYCQ6AKERBcgJLoAIdEFCIkuQEh0AUKiCxASXYCQ6AKERBcgJLoAIdEFCIkuQEh0AUKiCxASXYCQ6AKERBcgJLoAoWsvwX50dHQ0TVMxB8BBsNIFCIkuQEh0AUKiCxASXYCQ6AKERBcgNPs53aXcOdF74PAoH0BIdAFCogsQGnZOd9/cOfP3B1ie0gCERBcgJLoAIdEFCF0b3enIBuYAu2SlCxASXYCQ6AKEZr8ccey0LsDO+EbaLbJaeTth3/ktZa+crFajR1jM5egB2AuiC5WvHo2eoHf+cvQEe8c/0gBCogsQEl2AkOgChEQXICS6ACHRBQiJLkBIdAFCogsQEl2AkOgChIZteHNmo17gAFnpAoREFyAkugCh2XO60+TcK8CuWOkChEQXICS6ACHRBQi5GvAbq9OT0SMAB8BKFyAkugAh0QUIiS5ASHQBQqILEBJdgJDoAoREFyAkugAh0QUIiS5ASHQBQrO7jB3LMsDOSCpASHQBQqILEBJdgJDL9dwiq5W3E/bdsN/SMx+LAA6QpRF75cHDB6NHWM6b13ZxfjF4kNb6fD16hL1iuQkQEl2AkOgChEQXICS6ACHRBQiJLkBIdAFCogsQEl2A0PyVI6apmGO4O6f+/gDLUxqAkOgChEQXICS6ACHRBQiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQiJLkBodmvHpZwd6z1weJQPIDS70j2MLcwBGla6ACHRBQiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQgN2/CG3Xv86PPRI9zY/72G84vLAZM01uvb+9redXGL38NtWekChEQXIOT0whurs5PRIwAHwEoXIDS/n+5kR12AXbHSBQiJLkBIdAFCogsQEl2AkOgChIZ9OeL02EfRgMNjpQsQEl2AkOgChEQXICS6AKFro2uvG4DdstIFCM1+TtfHaQF2x0oXICS6ACHRBQiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQiJLkBo2IUp9813jz8bPcKs88ura2//9uHdaJIP83q9GT3C1i5mjvE+e/33p3e83/V6/eke+23MRneyqS7Azji9ABASXYDQsHO6Z8d6Dxwe5QMIiS5ASHQBQqILEBJdgJDoAoREFyAkugAh0QUIfcCGN8UYAIfBShcgJLoAIdEFCIkuQEh0AUKiCxASXYCQ6AKERBcgJLoAIdEFCIkuQGh2w5tjG94A7MxsdJfyzZf3Fn38zWa7+399/+Pmubra8olu6HLbF3ZD8dP9S31s31Uf5/e5HHgM/mu9R7O8dbm5Gj3C1pxeAAiJLkBIdAFCogsQEl2AkOgChEQXICS6ACHRBQjNfiNtmnwPGGBXrHQBQqILEBJdgJDoAoREFyAkugAh0QUIiS5ASHQBQqILEJr9GvD9ezN32fJadW/v/sXd7a6JuavrBG62GXjh6/B97MPf9FhsdQwWmmFJS822i+N27eMHx7R+2zaDflD2+efTShcgJLoAIdEFCIkuQEh0AUKiCxCaRn2kA+AQWekChEQXICS6ACHRBQiJLkBIdAFC/wCZAXUChIS1hAAAAABJRU5ErkJggg==\n\" class=\"sc-bdVaJa jFcqvn\"/></div></div></div></div></div>","metadata":{"title":"Treemap with colors mapped on values","description":"This post aims to show how to map colors on values in a treemap.","seoDescription":"Mapping colors on values in a treemap build with squarify library of python","family":"partOfAWhole","chartType":"treemap","keywords":"python, chart, plot, treemap, squarify","slug":"202-treemap-with-colors-mapped-on-values"}}},"pageContext":{"id":"e2e86dda-6aea-5d63-a515-37b93c57fbd1 >>> JupyterNotebook","slug":"202-treemap-with-colors-mapped-on-values","__params":{"slug":"202-treemap-with-colors-mapped-on-values"}}},"staticQueryHashes":["2944911273"],"slicesMap":{}}