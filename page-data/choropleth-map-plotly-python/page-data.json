{"componentChunkName":"component---src-pages-jupyter-notebook-slug-js","path":"/choropleth-map-plotly-python/","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-fqkvVR cbsNYc\"><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><blockquote>\n<p>This example comes directly from the plotly <a href=\"https://plotly.com/python/choropleth-maps/\">official documentation</a>. Plotly nicely agreed to share this example here, but you should definitely have a look to their doc.</p>\n</blockquote></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><h2>Numeric data</h2></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><p>A <a href=\"https://python-graph-gallery.com/choropleth-map\">choropleth map</a> displays the value of a numeric variable as a color for each region of a map. In this example, we will consider the unemployment rate of each county in the US. Let&#x27;s load this variable and check its distribution:</p></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq eSaGKB input-container\"><pre class=\"sc-iGgWBj gcBMNR input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Import the pandas library</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> pandas </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> pd\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> matplotlib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>pyplot </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> plt\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Import the data from the web</span><span>\n</span><span>df </span><span class=\"token\" style=\"color:#393A34\">=</span><span> pd</span><span class=\"token\" style=\"color:#393A34\">.</span><span>read_csv</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;https://raw.githubusercontent.com/plotly/datasets/master/fips-unemp-16.csv&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                   dtype</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;fips&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token builtin\">str</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>                   </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Check the distribution of the variable with seaborn:</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> seaborn </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> sns\n</span><span>sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>set_theme</span><span class=\"token\" style=\"color:#393A34\">(</span><span>style</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;darkgrid&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>sns</span><span class=\"token\" style=\"color:#393A34\">.</span><span>histplot</span><span class=\"token\" style=\"color:#393A34\">(</span><span>data</span><span class=\"token\" style=\"color:#393A34\">=</span><span>df</span><span class=\"token\" style=\"color:#393A34\">,</span><span> x</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;unemp&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>plt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">;</span><span>\n</span>\n</code></pre></div><div class=\"sc-kAyceB eLJVsY nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><img alt=\"\" src=\"data:image/png;base64,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OjXeZcXd2LFjNXfuXM2cOVN+v1+5ubkqKCiId1kxtW7dOrW0tKisrCy0b8aMGXxeusDEewAAC7qVAAAWhAMAwIJwAABYEA4AAAvCAQBgQTgAACwIBwCABTfBAZfwn//8R8uXL1dVVVWH7by8PB05ckRer1dHjhzRyJEj9Ze//CU0cduzzz6ro0ePqq2tTfn5+Zo/f77q6+s1e/ZsTZ48WXv37lUgENCiRYu0YcMGffvtt7r++uv14osvqqGhQbNmzdLtt9+u3bt3yzRNLVu2TLfcckucWwODDWcOQC/s2rVLL730kqqrqzV06FC9/vrrkqTFixfr/vvv16ZNm7Rx40bt3LlTW7dulSTV19crJydHmzZtUlZWllasWKEXX3xRb7/9tnbt2qWvvvpKktTQ0KBf//rXqqys1JNPPqnHH39cbW1t8XqrGKQ4cwB64dZbb1VKSookady4cTp16pTOnj2rL774QqdOndJLL70kSTp79qz279+vG2+8UU6nU7/73e8kSVdddZUmTJgQeg63261Tp07J7Xbrsssuk8fjkSTl5OTI4XCotrZW119/fRzeKQYrwgG4BJvNpvazy7T/633IkCGW44LBoEzT1Ouvv66hQ4dKkk6cOKHk5GSdPHlSTqezw5TQTqcz7Os6HI4O28Fg0LIPiDa6lYBLuOKKK9TQ0KDm5maZpqm33367y+NTUlKUlZWlV199VdKFhZlmzpyp999/v0eve+LECX300UeSpA8++EBOp1PXXXdd794E0EucOQCXcO2112rGjBm6//775XK5dMcdd+i///1vl48pLy/X8uXL5fF41NraqoKCAt1zzz2qr6+P+HWTk5NVWVmp8vJyDRkyRGvXruXMATHHrKxAAqmvr5fH49GXX34Z71IwyNGtBACw4MwBAGDBmQMAwIJwAABYEA4AAAvCAQBgQTgAACwIBwCAxf8DGapEJIXXrDUAAAAASUVORK5CYII=\" class=\"sc-bdVaJa jFcqvn\"/></div></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><h2>Choropleth</h2></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><p><code>plotly.express</code> allows to build the choropleth map thanks to its <code>choropleth()</code> function. Note that setting the <code>scope</code> parameter to <code>usa</code> allows to set states like the Hawaii or Alaska to be moved close to the rest of the country.</p></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq eSaGKB input-container\"><pre class=\"sc-iGgWBj gcBMNR input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Load the county boundary coordinates</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">from</span><span> urllib</span><span class=\"token\" style=\"color:#393A34\">.</span><span>request </span><span class=\"token\" style=\"color:#0000ff\">import</span><span> urlopen\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> json\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">with</span><span> urlopen</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> response</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    counties </span><span class=\"token\" style=\"color:#393A34\">=</span><span> json</span><span class=\"token\" style=\"color:#393A34\">.</span><span>load</span><span class=\"token\" style=\"color:#393A34\">(</span><span>response</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Build the choropleth</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> plotly</span><span class=\"token\" style=\"color:#393A34\">.</span><span>express </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> px\n</span><span>fig </span><span class=\"token\" style=\"color:#393A34\">=</span><span> px</span><span class=\"token\" style=\"color:#393A34\">.</span><span>choropleth</span><span class=\"token\" style=\"color:#393A34\">(</span><span>df</span><span class=\"token\" style=\"color:#393A34\">,</span><span> \n</span><span>    geojson</span><span class=\"token\" style=\"color:#393A34\">=</span><span>counties</span><span class=\"token\" style=\"color:#393A34\">,</span><span> \n</span><span>    locations</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;fips&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> \n</span><span>    color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;unemp&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    color_continuous_scale</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;Viridis&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    range_color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">12</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    scope</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;usa&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    labels</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&#x27;unemp&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span><span class=\"token\" style=\"color:#A31515\">&#x27;unemployment rate&#x27;</span><span class=\"token\" style=\"color:#393A34\">}</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>update_layout</span><span class=\"token\" style=\"color:#393A34\">(</span><span>margin</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&quot;r&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span class=\"token\" style=\"color:#A31515\">&quot;t&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span class=\"token\" style=\"color:#A31515\">&quot;l&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">,</span><span class=\"token\" style=\"color:#A31515\">&quot;b&quot;</span><span class=\"token\" style=\"color:#393A34\">:</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Improve the legend</span><span>\n</span><span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>update_layout</span><span class=\"token\" style=\"color:#393A34\">(</span><span>coloraxis_colorbar</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">dict</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>    thicknessmode</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;pixels&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> thickness</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    lenmode</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;pixels&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">150</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    yanchor</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;top&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> y</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">0.8</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    ticks</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;outside&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> ticksuffix</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot; %&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>    dtick</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">5</span><span>\n</span><span></span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-kAyceB eLJVsY nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"></div></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><p>Save as html if needed:</p></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq eSaGKB input-container\"><pre class=\"sc-iGgWBj gcBMNR input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># If you need to save this file as a standalone html file:</span><span>\n</span><span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>write_html</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;../../static/interactiveCharts/choropleth-map-plotly-python.html&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-jXbUNg gqRgKk markdown\"><p>Include it in a jupyter notebook with an <code>iframe</code>:</p></div></div><div class=\"sc-eqUAAy jevAiY cell\" style=\"box-shadow:none\"><div class=\"sc-gsFSXq eSaGKB input-container\"><pre class=\"sc-iGgWBj gcBMNR input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span><span>html\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span>iframe src</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;../../interactiveCharts/choropleth-map-plotly-python.html&quot;</span><span> width</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;800&quot;</span><span> height</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;600&quot;</span><span> title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;Choropleth map with plotly&quot;</span><span> style</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;border:none&quot;</span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span class=\"token\" style=\"color:#393A34\">/</span><span>iframe</span><span class=\"token\" style=\"color:#393A34\">&gt;</span></code></pre></div><div class=\"sc-kAyceB eLJVsY nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><iframe src=\"../../interactiveCharts/choropleth-map-plotly-python.html\" width=\"800\" height=\"600\" title=\"Choropleth map with plotly\" style=\"border:none\"></iframe>\n</div></div></div></div></div></div>","metadata":{"title":"Choropleth map with Python and Plotly","description":"This post explains how to build an interactive <a href='https://python-graph-gallery.com/choropleth-map'>choropleth map</a> with <code>Python</code> and <code>Plotly</code>. Every US states are represented, with a color mapped to their unemployment rate.","seoDescription":"same as description but shorter","family":"map","chartType":"choropleth","keywords":"python, chart, plot, seaborn, matplotlib, kdeplot","slug":"choropleth-map-plotly-python"}}},"pageContext":{"id":"b78e7d07-0e78-5e1c-9cdb-3a08a4e1ae9c >>> JupyterNotebook","slug":"choropleth-map-plotly-python","__params":{"slug":"choropleth-map-plotly-python"}}},"staticQueryHashes":["2944911273"],"slicesMap":{}}