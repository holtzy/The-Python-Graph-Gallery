{"componentChunkName":"component---src-pages-jupyter-notebook-slug-js","path":"/ridgeline-graph-plotly/","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-fLDLck copmGR\"><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><p>To do so, we will use <a href=\"https://plotly.com/python/\">Plotly</a>&#x27;s amazing Python graphing library. As no function enables us to directly plot a ridgeline, we will make extensive use of plotly.graph_objects library that enables us to add traces to a figure.</p></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># getting necessary libraries</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> plotly</span><span class=\"token\" style=\"color:#393A34\">.</span><span>graph_objects </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> go\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> numpy </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> np\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">import</span><span> pandas </span><span class=\"token\" style=\"color:#0000ff\">as</span><span> pd\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># getting the data</span><span>\n</span><span>temp </span><span class=\"token\" style=\"color:#393A34\">=</span><span> pd</span><span class=\"token\" style=\"color:#393A34\">.</span><span>read_csv</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;https://raw.githubusercontent.com/plotly/datasets/master/2016-weather-data-seattle.csv&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># we retrieve the data from plotly&#x27;s GitHub repository</span><span>\n</span><span>temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">=</span><span> pd</span><span class=\"token\" style=\"color:#393A34\">.</span><span>to_datetime</span><span class=\"token\" style=\"color:#393A34\">(</span><span>temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Date&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>dt</span><span class=\"token\" style=\"color:#393A34\">.</span><span>year </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># we store the year in a separate column</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># Since we do not want to plot 50+ lines, we only select some years to plot</span><span>\n</span><span>year_list </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">1950</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">1960</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">1970</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">1980</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">1990</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">2000</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">2010</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span><span>temp </span><span class=\"token\" style=\"color:#393A34\">=</span><span> temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span>temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span>isin</span><span class=\"token\" style=\"color:#393A34\">(</span><span>year_list</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># as we expect to plot histograms-like plots for each year, we group by year and mean temperature and aggregate with &#x27;count&#x27; function</span><span>\n</span><span>temp </span><span class=\"token\" style=\"color:#393A34\">=</span><span> temp</span><span class=\"token\" style=\"color:#393A34\">.</span><span>groupby</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>agg</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;count&#x27;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>rename</span><span class=\"token\" style=\"color:#393A34\">(</span><span>columns</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span><span> </span><span class=\"token\" style=\"color:#A31515\">&#x27;count&#x27;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span><span>reset_index</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># you can have a look at what the data looks like at this point</span><span>\n</span>temp\n</code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>Mean_TemperatureC</th>\n      <th>count</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1950</td>\n      <td>-12.0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1950</td>\n      <td>-11.0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1950</td>\n      <td>-10.0</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1950</td>\n      <td>-9.0</td>\n      <td>6</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1950</td>\n      <td>-8.0</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>199</th>\n      <td>2010</td>\n      <td>22.0</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>200</th>\n      <td>2010</td>\n      <td>23.0</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>201</th>\n      <td>2010</td>\n      <td>24.0</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>202</th>\n      <td>2010</td>\n      <td>26.0</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>203</th>\n      <td>2010</td>\n      <td>27.0</td>\n      <td>2</td>\n    </tr>\n  </tbody>\n</table>\n<p>204 rows Ã— 3 columns</p>\n</div></div></div></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># the idea behind this ridgeline plot with Plotly is to add traces manually, each trace corresponding to a particular year&#x27;s temperature distribution</span><span>\n</span><span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># thus, we are to store each year&#x27;s data (temperatures and their respective count) in seperate arrays or pd.series that we store in a dictionnary to retrieve them easily</span><span>\n</span><span>array_dict </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># instantiating an empty dictionnary</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> year </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> year_list</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;x_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">=</span><span> temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span>temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">==</span><span>year</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># storing the temperature data for each year</span><span>\n</span><span>    array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">=</span><span> temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span>temp</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">==</span><span>year</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;count&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># storing the temperature count for each year</span><span>\n</span><span>    array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">=</span><span> </span><span class=\"token\" style=\"color:#393A34\">(</span><span>array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span> array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">min</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span> \\\n</span><span>                                </span><span class=\"token\" style=\"color:#393A34\">/</span><span> </span><span class=\"token\" style=\"color:#393A34\">(</span><span>array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">max</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#393A34\">-</span><span> array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">min</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># we normalize the array (min max normalization)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># once all of this is done, we can create a plotly.graph_objects.Figure and add traces with fig.add_trace() method</span><span>\n</span><span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># since we have stored the temperatures and their respective count for each year, we can plot scatterplots (go.Scatter)</span><span>\n</span><span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># we thus iterate over year_list and create a &#x27;blank line&#x27; that is placed at y = index, then the corresponding temperature count line</span><span>\n</span><span>fig </span><span class=\"token\" style=\"color:#393A34\">=</span><span> go</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Figure</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span><span></span><span class=\"token\" style=\"color:#0000ff\">for</span><span> index</span><span class=\"token\" style=\"color:#393A34\">,</span><span> year </span><span class=\"token\" style=\"color:#0000ff\">in</span><span> </span><span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span><span>year_list</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span><span>\n</span><span>    fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_trace</span><span class=\"token\" style=\"color:#393A34\">(</span><span>go</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Scatter</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>                            x</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">20</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token\" style=\"color:#36acaa\">40</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span> y</span><span class=\"token\" style=\"color:#393A34\">=</span><span>np</span><span class=\"token\" style=\"color:#393A34\">.</span><span>full</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span><span> </span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span><span>year_list</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">-</span><span>index</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                            mode</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;lines&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                            line_color</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;white&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>    \n<span>    fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_trace</span><span class=\"token\" style=\"color:#393A34\">(</span><span>go</span><span class=\"token\" style=\"color:#393A34\">.</span><span>Scatter</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>                            x</span><span class=\"token\" style=\"color:#393A34\">=</span><span>array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;x_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                            y</span><span class=\"token\" style=\"color:#393A34\">=</span><span>array_dict</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span> </span><span class=\"token\" style=\"color:#393A34\">+</span><span> </span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span><span>year_list</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">-</span><span>index</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#393A34\">+</span><span> </span><span class=\"token\" style=\"color:#36acaa\">0.4</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                            fill</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tonexty&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                            name</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>    \n<span>    </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># plotly.graph_objects&#x27; way of adding text to a figure</span><span>\n</span><span>    fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>add_annotation</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>                        x</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">20</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                        y</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span><span>year_list</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">-</span><span>index</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                        text</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">f&#x27;</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">{</span><span class=\"token string-interpolation token interpolation\">year</span><span class=\"token string-interpolation token interpolation token\" style=\"color:#393A34\">}</span><span class=\"token string-interpolation token\" style=\"color:#A31515\">&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                        showarrow</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                        yshift</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span></span><span class=\"token\" style=\"color:#008000;font-style:italic\"># here you can modify the figure and the legend titles</span><span>\n</span><span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>update_layout</span><span class=\"token\" style=\"color:#393A34\">(</span><span>\n</span><span>                title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Average temperature from 1950 until 2010 in Seattle&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                showlegend</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                xaxis</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">dict</span><span class=\"token\" style=\"color:#393A34\">(</span><span>title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Temperature in degree Celsius&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span><span>\n</span><span>                yaxis</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">dict</span><span class=\"token\" style=\"color:#393A34\">(</span><span>showticklabels</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">)</span><span> </span><span class=\"token\" style=\"color:#008000;font-style:italic\"># that way you hide the y axis ticks labels</span><span>\n</span><span>                </span><span class=\"token\" style=\"color:#393A34\">)</span><span>\n</span>\n<span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>show</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"></div></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-jBIHhB bMhvsO markdown\"><p>Note that you can save this chart to a standalone file thanks to the <code>write.html()</code> function. It is then possible to render it in any html document using an <code>&lt;iframe&gt;</code></p></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># If you need to save this file as a standalong html file:</span><span>\n</span><span>fig</span><span class=\"token\" style=\"color:#393A34\">.</span><span>write_html</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;../../static/interactiveCharts/ridgeline-graph-plotly.html&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dVBluf geXnbO cell\" style=\"box-shadow:none\"><div class=\"sc-gNZgCX iTRzZd input-container\"><pre class=\"sc-jbAkgO hVUwg input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code class=\"language-python\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span><span>html\n</span><span></span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span>iframe src</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;../../interactiveCharts/ridgeline-graph-plotly.html&quot;</span><span> width</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;800&quot;</span><span> height</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;600&quot;</span><span> title</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;ridgeline chart with plotly&quot;</span><span> style</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;border:none&quot;</span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span class=\"token\" style=\"color:#393A34\">/</span><span>iframe</span><span class=\"token\" style=\"color:#393A34\">&gt;</span></code></pre></div><div class=\"sc-kfeOyU hdFmYB nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><iframe src=\"../../interactiveCharts/ridgeline-graph-plotly.html\" width=\"800\" height=\"600\" title=\"ridgeline chart with plotly\" style=\"border:none\"></iframe>\n</div></div></div></div></div></div>","metadata":{"title":"Drawing a ridgeline graph with Plotly","description":"A Ridgelineplot (formerly called a Joyplot) allows to study the distribution of a numeric variable for several groups. Throughout the following example, we will consider average temperatures in Seattle between 1950 and 2010 and we will show how to visualize their distribution.","seoDescription":"How to draw a ridgeline graph with Plotly","family":"distribution","chartType":"ridgeline","keywords":"python, chart, plot, plotly, ridgeline","slug":"ridgeline-graph-plotly"}}},"pageContext":{"id":"221c1b07-d2a7-5237-820f-b931cda6631d >>> JupyterNotebook","slug":"ridgeline-graph-plotly","__params":{"slug":"ridgeline-graph-plotly"}}},"staticQueryHashes":["2944911273"],"slicesMap":{}}