{"componentChunkName":"component---src-templates-basic-js","path":"/ridgeline-graph-plotly","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-ifAKCX zMCZx\"><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><p>To do so, we will use <a href=\"https://plotly.com/python/\">Plotly</a>&#x27;s amazing Python graphing library. As no function enables us to directly plot a ridgeline, we will make extensive use of plotly.graph_objects library that enables us to add traces to a figure.</p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># getting neccessary libraries</span>\n<span class=\"token\" style=\"color:#0000ff\">import</span> plotly<span class=\"token\" style=\"color:#393A34\">.</span>graph_objects <span class=\"token\" style=\"color:#0000ff\">as</span> go\n<span class=\"token\" style=\"color:#0000ff\">import</span> numpy <span class=\"token\" style=\"color:#0000ff\">as</span> np\n<span class=\"token\" style=\"color:#0000ff\">import</span> pandas <span class=\"token\" style=\"color:#0000ff\">as</span> pd\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># getting the data</span>\ntemp <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>read_csv<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;https://raw.githubusercontent.com/plotly/datasets/master/2016-weather-data-seattle.csv&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#008000;font-style:italic\"># we retrieve the data from plotly&#x27;s GitHub repository</span>\ntemp<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>to_datetime<span class=\"token\" style=\"color:#393A34\">(</span>temp<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Date&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span>dt<span class=\"token\" style=\"color:#393A34\">.</span>year <span class=\"token\" style=\"color:#008000;font-style:italic\"># we store the year in a separate column</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Since we do not want to plot 50+ lines, we only select some years to plot</span>\nyear_list <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">1950</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">1960</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">1970</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">1980</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">1990</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">2000</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">2010</span><span class=\"token\" style=\"color:#393A34\">]</span>\ntemp <span class=\"token\" style=\"color:#393A34\">=</span> temp<span class=\"token\" style=\"color:#393A34\">[</span>temp<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span>isin<span class=\"token\" style=\"color:#393A34\">(</span>year_list<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">]</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># as we expect to plot histograms-like plots for each year, we group by year and mean temperature and aggregate with &#x27;count&#x27; function</span>\ntemp <span class=\"token\" style=\"color:#393A34\">=</span> temp<span class=\"token\" style=\"color:#393A34\">.</span>groupby<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span>agg<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> <span class=\"token\" style=\"color:#A31515\">&#x27;count&#x27;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span>rename<span class=\"token\" style=\"color:#393A34\">(</span>columns<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> <span class=\"token\" style=\"color:#A31515\">&#x27;count&#x27;</span><span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">.</span>reset_index<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># you can have a look at what the data looks like at this point</span>\ntemp</code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>year</th>\n      <th>Mean_TemperatureC</th>\n      <th>count</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1950</td>\n      <td>-12.0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1950</td>\n      <td>-11.0</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1950</td>\n      <td>-10.0</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1950</td>\n      <td>-9.0</td>\n      <td>6</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1950</td>\n      <td>-8.0</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>199</th>\n      <td>2010</td>\n      <td>22.0</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>200</th>\n      <td>2010</td>\n      <td>23.0</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>201</th>\n      <td>2010</td>\n      <td>24.0</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>202</th>\n      <td>2010</td>\n      <td>26.0</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>203</th>\n      <td>2010</td>\n      <td>27.0</td>\n      <td>2</td>\n    </tr>\n  </tbody>\n</table>\n<p>204 rows Ã— 3 columns</p>\n</div></div></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># the idea behind this ridgeline plot with Plotly is to add traces manually, each trace corresponding to a particular year&#x27;s temperature distribution</span>\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># thus, we are to store each year&#x27;s data (temperatures and their respective count) in seperate arrays or pd.series that we store in a dictionnary to retrieve them easily</span>\narray_dict <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span> <span class=\"token\" style=\"color:#008000;font-style:italic\"># instantiating an empty dictionnary</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> year <span class=\"token\" style=\"color:#0000ff\">in</span> year_list<span class=\"token\" style=\"color:#393A34\">:</span>\n    array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;x_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> temp<span class=\"token\" style=\"color:#393A34\">[</span>temp<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">==</span>year<span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;Mean_TemperatureC&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#008000;font-style:italic\"># storing the temperature data for each year</span>\n    array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> temp<span class=\"token\" style=\"color:#393A34\">[</span>temp<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;year&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">==</span>year<span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;count&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#008000;font-style:italic\"># storing the temperature count for each year</span>\n    array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">(</span>array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">-</span> array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">min</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span> \\\n                                <span class=\"token\" style=\"color:#393A34\">/</span> <span class=\"token\" style=\"color:#393A34\">(</span>array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">max</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#393A34\">-</span> array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">.</span><span class=\"token builtin\">min</span><span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#008000;font-style:italic\"># we normalize the array (min max normalization)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># once all of this is done, we can create a plotly.graph_objects.Figure and add traces with fig.add_trace() method</span>\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># since we have stored the temperatures and their respective count for each year, we can plot scatterplots (go.Scatter)</span>\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># we thus iterate over year_list and create a &#x27;blank line&#x27; that is placed at y = index, then the corresponding temperature count line</span>\nfig <span class=\"token\" style=\"color:#393A34\">=</span> go<span class=\"token\" style=\"color:#393A34\">.</span>Figure<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> index<span class=\"token\" style=\"color:#393A34\">,</span> year <span class=\"token\" style=\"color:#0000ff\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token\" style=\"color:#393A34\">(</span>year_list<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    fig<span class=\"token\" style=\"color:#393A34\">.</span>add_trace<span class=\"token\" style=\"color:#393A34\">(</span>go<span class=\"token\" style=\"color:#393A34\">.</span>Scatter<span class=\"token\" style=\"color:#393A34\">(</span>\n                            x<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">20</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#36acaa\">40</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span> y<span class=\"token\" style=\"color:#393A34\">=</span>np<span class=\"token\" style=\"color:#393A34\">.</span>full<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#36acaa\">2</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span>year_list<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">-</span>index<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                            mode<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;lines&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                            line_color<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;white&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\n    \n    fig<span class=\"token\" style=\"color:#393A34\">.</span>add_trace<span class=\"token\" style=\"color:#393A34\">(</span>go<span class=\"token\" style=\"color:#393A34\">.</span>Scatter<span class=\"token\" style=\"color:#393A34\">(</span>\n                            x<span class=\"token\" style=\"color:#393A34\">=</span>array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;x_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                            y<span class=\"token\" style=\"color:#393A34\">=</span>array_dict<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;y_</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">+</span> <span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span>year_list<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">-</span>index<span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#393A34\">+</span> <span class=\"token\" style=\"color:#36acaa\">0.4</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                            fill<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;tonexty&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                            name<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\n    \n    <span class=\"token\" style=\"color:#008000;font-style:italic\"># plotly.graph_objects&#x27; way of adding text to a figure</span>\n    fig<span class=\"token\" style=\"color:#393A34\">.</span>add_annotation<span class=\"token\" style=\"color:#393A34\">(</span>\n                        x<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#393A34\">-</span><span class=\"token\" style=\"color:#36acaa\">20</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                        y<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">len</span><span class=\"token\" style=\"color:#393A34\">(</span>year_list<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">-</span>index<span class=\"token\" style=\"color:#393A34\">,</span>\n                        text<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token string-interpolation\"><span class=\"token\" style=\"color:#A31515\">f&#x27;</span><span class=\"token interpolation\"><span class=\"token\" style=\"color:#393A34\">{</span>year<span class=\"token\" style=\"color:#393A34\">}</span></span><span class=\"token\" style=\"color:#A31515\">&#x27;</span></span><span class=\"token\" style=\"color:#393A34\">,</span>\n                        showarrow<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                        yshift<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">10</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># here you can modify the figure and the legend titles</span>\nfig<span class=\"token\" style=\"color:#393A34\">.</span>update_layout<span class=\"token\" style=\"color:#393A34\">(</span>\n                title<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Average temperature from 1950 until 2010 in Seattle&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                showlegend<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                xaxis<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">dict</span><span class=\"token\" style=\"color:#393A34\">(</span>title<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Temperature in degree Celsius&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span>\n                yaxis<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token builtin\">dict</span><span class=\"token\" style=\"color:#393A34\">(</span>showticklabels<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">False</span><span class=\"token\" style=\"color:#393A34\">)</span> <span class=\"token\" style=\"color:#008000;font-style:italic\"># that way you hide the y axis ticks labels</span>\n                <span class=\"token\" style=\"color:#393A34\">)</span>\n\nfig<span class=\"token\" style=\"color:#393A34\">.</span>show<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"></div></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-iwsKbI exQuEV markdown\"><p>Note that you can save this chart to a standalone file thanks to the <code>write.html()</code> function. It is then possible to render it in any html document using an <code>&lt;iframe&gt;</code></p></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># If you need to save this file as a standalong html file:</span>\nfig<span class=\"token\" style=\"color:#393A34\">.</span>write_html<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;../../static/interactiveCharts/ridgeline-graph-plotly.html&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-bxivhb HLmih cell\" style=\"box-shadow:none\"><div class=\"sc-gzVnrw iiEGBE input-container\"><pre class=\"sc-bZQynM dQAqiJ input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span>html\n<span class=\"token\" style=\"color:#393A34\">&lt;</span>iframe src<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;../../interactiveCharts/ridgeline-graph-plotly.html&quot;</span> width<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;800&quot;</span> height<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;600&quot;</span> title<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;ridgeline chart with plotly&quot;</span> style<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;border:none&quot;</span><span class=\"token\" style=\"color:#393A34\">&gt;</span><span class=\"token\" style=\"color:#393A34\">&lt;</span><span class=\"token\" style=\"color:#393A34\">/</span>iframe<span class=\"token\" style=\"color:#393A34\">&gt;</span></code></pre></div><div class=\"sc-htoDjs wOXyQ nteract-outputs\" style=\"max-height:100%\"><div class=\"cell_display\" style=\"max-height:100%;overflow-y:auto\"><div><iframe src=\"../../interactiveCharts/ridgeline-graph-plotly.html\" width=\"800\" height=\"600\" title=\"ridgeline chart with plotly\" style=\"border:none\"></iframe>\n</div></div></div></div></div></div>","metadata":{"title":"Drawing a ridgeline graph with Plotly","description":"A Ridgelineplot (formerly called a Joyplot) allows to study the distribution of a numeric variable for several groups. Throughout the following example, we will consider average temperatures in Seattle between 1950 and 2010 and we will show how to visualize their distribution.","seoDescription":"How to draw a ridgeline graph with Plotly","family":"distribution","chartType":"ridgeline","keywords":"python, chart, plot, plotly, ridgeline"}}},"pageContext":{"slug":"ridgeline-graph-plotly"}},"staticQueryHashes":["2496446644"]}