"use strict";(self.webpackChunkthe_python_graph_gallery=self.webpackChunkthe_python_graph_gallery||[]).push([[3802],{834:function(e,t,a){a.d(t,{A:function(){return m}});var n=a(6540),l=a(4479),r=a(1105),o=a(2309),i=a(9781),c=a(464);const s={distribution:"Distribution",correlation:"Correlation",ranking:"Ranking",partOfAWhole:"Part Of A Whole",evolution:"Evolution",map:"Map",flow:"Flow",general:"General Knowledge"};function m(e){let{chartFamily:t}=e;const a=i.S.filter((e=>e.family===t)).map(((e,t)=>{const a=(0,c.R)(e.pythonURL);return n.createElement(r.A,{key:t,xs:4,md:2,className:"col-1-7"},n.createElement(o.A,{link:a,chartType:e.logo,caption:e.label}))}));return n.createElement("div",{style:{paddingBottom:15}},n.createElement("h2",{id:"Related charts",className:"sectionTitle "+t},null==s?void 0:s[t]),n.createElement(l.A,null,a))}},3572:function(e,t,a){a.d(t,{A:function(){return i}});var n=a(6540),l=a(4794),r=a(2532);const o=["animated_chart","animated_gapminder.gif","animated_volcano.gif"];function i(e){let{imgName:t,caption:a}=e;if(o.includes(t))return n.createElement("p",null,"TODO");const i=(0,l.useStaticQuery)("2757772085").allFile.edges.find((e=>e.node.name.includes(t)));return i?n.createElement(n.Fragment,null,n.createElement("div",{className:"chartImageContainer"},n.createElement(r.G,{image:i.node.childImageSharp.gatsbyImageData,alt:a,className:"chartImageImg"}),a&&n.createElement("div",{className:"chartImageOverlay"},n.createElement("div",{className:"chartImageOverlayText"},n.createElement("p",null,a))))):null}},3365:function(e,t,a){a.d(t,{A:function(){return i}});var n=a(6540),l=a(3572),r=a(1105),o=a(4794);function i(e){let{imgName:t,caption:a,linkTo:i}=e;return n.createElement(r.A,{xs:12,md:4},n.createElement(o.Link,{to:i},n.createElement(l.A,{imgName:t,caption:a})))}},7906:function(e,t,a){a.d(t,{A:function(){return m}});var n=a(6540),l=a(1590),r=a(4725),o=a(4506);const i=function(e,t){for(void 0===t&&(t=0);e;)t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return t};function c(e){let{chartType:t}=e;const{0:a,1:l}=(0,n.useState)({titles:[],nodes:[],minDepth:0}),{0:r,1:c}=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=Array.from(document.querySelectorAll(["main h2"])),t=e.map((e=>({title:e.id||e.innerHTML,depth:Number(e.nodeName[1])}))),a=Math.min.apply(Math,(0,o.A)(t.map((e=>e.depth))));l({titles:t,nodes:e,minDepth:a})}),[]),(0,n.useEffect)((()=>{const e=()=>{const{nodes:e}=a,t=e.map((e=>i(e))),n=window.scrollY+150,l=t.reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}),0),r=t.findIndex((e=>e===l));c(-1===r?0:r)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[a]),n.createElement("div",{className:"table-of-content"},a.titles.map(((e,t)=>{let{title:l,depth:o}=e;return n.createElement("p",{key:l,depth:o-a.minDepth,className:r===t?"toc-item active-toc-item":"toc-item",onClick:e=>{e.preventDefault(),a.nodes[t].scrollIntoView({behavior:"smooth",block:"start",alignToTop:!0})},dangerouslySetInnerHTML:{__html:l}})})))}var s=e=>{let{siteId:t}=e;return(0,n.useEffect)((()=>{window.adthrive=window.adthrive||{},window.adthrive.cmd=window.adthrive.cmd||[],window.adthrive.plugin="adthrive-ads-manual-spa",window.adthrive.host="ads.adthrive.com";const e=document.createElement("script");e.async=!0,e.referrerpolicy="no-referrer-when-downgrade",e.src=`https://${window.adthrive.host}/sites/${t}/ads.min.js?referrer=${encodeURIComponent(window.location.href)}`;const a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}),[t]),null};function m(e){let{children:t,isTocEnabled:a,chartType:o,isHome:i=!1}=e;return n.createElement(n.Fragment,null,n.createElement(s,{siteId:"6434366c7ccf1c58d32ab68f"}),n.createElement("header",null,n.createElement(r.A,null)),n.createElement("main",{className:i?"home":"not-home"},t),n.createElement(l.A,null),a&&n.createElement(c,{chartType:o}))}},435:function(e,t,a){a.d(t,{k:function(){return l}});var n=a(6540);const l=e=>{let{title:t,seoDescription:a,keywords:l,image:r}=e;return n.createElement(n.Fragment,null,n.createElement("title",null,t),n.createElement("html",{lang:"en"}),n.createElement("meta",{name:"description",content:a||"How to build a chart with Python"}),n.createElement("meta",{name:"author",content:"Yan Holtz"}),n.createElement("meta",{name:"keywords",content:l||"python, chart, graph, code, viz, dataviz"}),n.createElement("meta",{property:"og:site_name",content:"The Python Graph Gallery"}),n.createElement("meta",{property:"og:title",content:t+" | The Python Graph Gallery"}),n.createElement("meta",{property:"og:image",content:r||"https://github.com/holtzy/The-Python-Graph-Gallery/blob/master/static/overview_PGG.png?raw=true"}),n.createElement("meta",{property:"og:description",content:a}),n.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),n.createElement("meta",{name:"twitter:site",content:"@R_Graph_Gallery"}))}},2309:function(e,t,a){a.d(t,{A:function(){return i}});var n=a(4794),l=a(6540),r=a(7370);const o=a(9781).S.filter((e=>"general"===e.family)).map((e=>e.logo));function i(e){let{chartType:t,caption:a,link:i}=e;const c=o.includes(t);return l.createElement(l.Fragment,null,c?l.createElement("div",{className:"sectionLogoContainer"},l.createElement(n.Link,{to:i},l.createElement(r.A,{chartType:t})),l.createElement("p",{className:"sectionLogoCaption"},a)):l.createElement(l.Fragment,null,l.createElement("div",{className:"sectionLogoContainer"},l.createElement(n.Link,{to:i},l.createElement(r.A,{chartType:t}),l.createElement("div",{className:"sectionLogoOverlay"},l.createElement("div",{className:"sectionLogoOverlayText"},"+")))),l.createElement("p",{className:"sectionLogoCaption"},a)))}},7238:function(e,t,a){a.d(t,{A:function(){return m}});var n=a(6540),l=a(5615),r=a(4794),o=a(9781),i=a(464),c=a(3048),s=a(7370);function m(e){let{title:t,description:a,chartType:s,isRaptiveEnabled:m=!0}=e;const h=o.S.filter((e=>e.id===s))[0];return n.createElement(c.A,null,n.createElement("div",{className:"titleAndDescription"},n.createElement("div",{className:"titleRow"},n.createElement("h1",null,t),s&&n.createElement(d,{chartType:s})),n.createElement("hr",{className:"smallHr"}),"string"==typeof a?n.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a}}):n.createElement("div",{className:"description"},a),s&&n.createElement("div",{style:{marginTop:"10px"}},n.createElement(r.Link,{to:(0,i.R)(h.pythonURL)},n.createElement(l.A,{size:"sm"},h.label+" section")),n.createElement("a",{href:h.dataToVizURL},n.createElement(l.A,{size:"sm"},"About this chart")))),m&&n.createElement("div",{className:"raptive-video-player",style:{minHeight:300}}))}const d=e=>{let{chartType:t}=e;const a=o.S.filter((e=>e.id===t))[0],l=(0,i.R)(a.pythonURL);return n.createElement("div",{style:{width:"80px",marginLeft:40}},n.createElement(r.Link,{to:l},n.createElement(s.A,{chartType:a.logo})))}},6766:function(e,t,a){a.r(t),a.d(t,{Head:function(){return g},default:function(){return w}});var n=a(6540),l=a(7238),r=a(7906),o=a(3048),i=a(9441),c=a(4479),s=a(3365),m=a(834),d=a(4794),h=a(3691),p=a(3572),u=a(5216),y=a(5615),E=a(435);const f="<p>A <a href='https://www.data-to-viz.com/graph/sankey.html'>Sankey Diagram</a> is a visualisation technique that allows to display flows. Several entities (nodes) are represented by rectangles or text. Their links are represented with arrows or arcs that have a width proportional to the importance of the flow.",g=()=>n.createElement(E.k,{title:"Sankey diagram",seoDescription:"A collection of sankey diagram examples made with Python, coming with explanation and reproducible code"});function w(){return n.createElement(r.A,{isTocEnabled:!0},n.createElement(l.A,{title:"Sankey diagram",description:f}),n.createElement(o.A,null,n.createElement("h2",{id:"Plotly"},n.createElement(h.XV,null),"Sankey diagram with ",n.createElement("code",null,"Plotly")),n.createElement("p",null,n.createElement("code",null,"Plotly")," is an awesome ",n.createElement("code",null,"Python")," library for interactive data visualization. It is most probably the best tool to create a Sankey Diagram. Its ",n.createElement("code",null,"Sankey()")," function handles most of the business logic for you, allowing to get a figure in a couple of lines of code."),n.createElement("p",null,"The blogpost linked below should quickly get you started with some"," ",n.createElement(d.Link,{to:"/sankey-diagram-with-python-and-plotly"},"minimal starting example"),". It also describes the most common of type of customization you probably want to apply to your Sankey diagram to make it appealing, and ends up with the code for a real life Sankey diagram shown below."),n.createElement("div",{className:"mx-auto"},n.createElement("iframe",{src:"/interactiveCharts/sankey-diagram-plotly-real.html",title:"Sankey diagram with plotly",style:{border:"none",width:"800px",height:"700px"}})),n.createElement(d.Link,{to:"/sankey-diagram-with-python-and-plotly"},n.createElement(y.A,{size:"sm"},"See code"))),n.createElement(u.A,null),n.createElement(o.A,null,n.createElement("h2",{id:"pySankey"},"Sankey diagrams with ",n.createElement("code",null,"pySankey")),n.createElement("p",null,"The"," ",n.createElement("a",{target:"_blank",href:"https://github.com/anazalea/pySankey",rel:"noreferrer"},"pySankey")," ","python library by"," ",n.createElement("a",{target:"_blank",href:"https://github.com/anazalea",rel:"noreferrer"},"anazalea")," ","is another option when it comes to build sankey diagrams. It is based on ",n.createElement(d.Link,{to:"/matplotlib"},"matplotlib")," and aims a building static outputs only. The blogpost showcased below should help you to get started quickly, describing the various accepted dataset and the customization offered by the library."),n.createElement(c.A,null,n.createElement(s.A,{imgName:"basic-sankey-diagram-with-pysankey-1",caption:"How to build a basic sankey diagram with the pySankey library",linkTo:"/basic-sankey-diagram-with-pysankey"}),n.createElement(s.A,{imgName:"basic-sankey-diagram-with-pysankey-2",caption:"Some explanation on the various data format that are accepted by the library.",linkTo:"/basic-sankey-diagram-with-pysankey"}))),n.createElement(u.A,null),n.createElement(o.A,null,n.createElement("h2",{id:"Matplotlib"},n.createElement(h.$P,null),"Sankey diagram with ",n.createElement("code",null,"Matplotlib")),n.createElement("p",null,"The ",n.createElement("code",null,"matplotlib")," library offers a ",n.createElement("code",null,"Sankey()")," ","function that also allows to build sankey diagrams. It is a bit limited in my opinion, since it only allows to visualize flows passing through one unique group as shown in the example below."),n.createElement("p",null,"The example below comes from the"," ",n.createElement("a",{href:"https://matplotlib.org/api/sankey_api.html"},"official doc"),". Have a look to the"," ",n.createElement("a",{href:"https://python-graph-gallery.com/220-sankey-diagram-with-matplotlib/"},"code ",n.createElement("here",null)),"."),n.createElement("div",{style:{maxWidth:"600px",margin:"0 auto",padding:30}},n.createElement(d.Link,{to:"/220-sankey-diagram-with-matplotlib"},n.createElement(p.A,{imgName:"220_Sankey_Matplotlib",caption:"Basic Sankey diagram with Matplotlib"})))),n.createElement(u.A,null),n.createElement("div",{className:"greySection",id:"related"},n.createElement(o.A,null,n.createElement(m.A,{chartFamily:"flow"}))),n.createElement(u.A,null),n.createElement(o.A,null,n.createElement(i.A,null)),n.createElement(u.A,null))}},1105:function(e,t,a){var n=a(2485),l=a.n(n),r=a(6540),o=a(6519),i=a(4848);const c=r.forwardRef(((e,t)=>{const[{className:a,...n},{as:r="div",bsPrefix:c,spans:s}]=function({as:e,bsPrefix:t,className:a,...n}){t=(0,o.oU)(t,"col");const r=(0,o.gy)(),i=(0,o.Jm)(),c=[],s=[];return r.forEach((e=>{const a=n[e];let l,r,o;delete n[e],"object"==typeof a&&null!=a?({span:l,offset:r,order:o}=a):l=a;const m=e!==i?`-${e}`:"";l&&c.push(!0===l?`${t}${m}`:`${t}${m}-${l}`),null!=o&&s.push(`order${m}-${o}`),null!=r&&s.push(`offset${m}-${r}`)})),[{...n,className:l()(a,...c,...s)},{as:e,bsPrefix:t,spans:c}]}(e);return(0,i.jsx)(r,{...n,ref:t,className:l()(a,!s.length&&c)})}));c.displayName="Col",t.A=c},4479:function(e,t,a){var n=a(2485),l=a.n(n),r=a(6540),o=a(6519),i=a(4848);const c=r.forwardRef((({bsPrefix:e,className:t,as:a="div",...n},r)=>{const c=(0,o.oU)(e,"row"),s=(0,o.gy)(),m=(0,o.Jm)(),d=`${c}-cols`,h=[];return s.forEach((e=>{const t=n[e];let a;delete n[e],null!=t&&"object"==typeof t?({cols:a}=t):a=t;const l=e!==m?`-${e}`:"";null!=a&&h.push(`${d}${l}-${a}`)})),(0,i.jsx)(a,{ref:r,...n,className:l()(t,c,...h)})}));c.displayName="Row",t.A=c}}]);
//# sourceMappingURL=component---src-pages-sankey-diagram-js-47573b810256bde084e9.js.map